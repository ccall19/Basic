# Python 标准输入输出完整指南

## 1. 标准输出（Output）

### 1.1 `print()` 函数（最常用）

#### 基本用法

```python
# 基本输出
print("Hello, World!")

# 多个参数（默认用空格分隔）
print("Hello", "World", 123)  # 输出:  Hello World 123
```

#### 自定义分隔符和结束符

```python
# 自定义分隔符
print("a", "b", "c", sep="-")  # 输出: a-b-c
print("2025", "12", "22", sep="/")  # 输出: 2025/12/22

# 自定义结束符（默认是 \n 换行）
print("Hello", end="")  # 不换行
print("World")  # 输出: HelloWorld

print("Loading", end="...")  # 输出: Loading... 
```

#### 格式化输出

```python
name = "Alice"
age = 25
score = 95.5

# 方法1: f-string（Python 3.6+，推荐）
print(f"Name: {name}, Age:  {age}")

# 方法2: format() 方法
print("Name: {}, Age:  {}".format(name, age))
print("Name: {n}, Age: {a}".format(n=name, a=age))

# 方法3: % 格式化（旧式）
print("Name: %s, Age: %d" % (name, age))
```

#### 格式化对齐和精度

```python
# 右对齐，宽度10
print(f"{name: >10}")   # 输出:      Alice

# 左对齐，宽度10
print(f"{name:<10}")   # 输出: Alice     

# 居中对齐，宽度10
print(f"{name:^10}")   # 输出:   Alice   

# 数字格式化
print(f"{score:. 2f}")  # 保留2位小数:  95.50
print(f"{age:05d}")    # 用0填充: 00025
```

### 1.2 `sys.stdout.write()`

```python
import sys

# 写入标准输出
sys.stdout.write("Hello\n")

# 强制刷新缓冲区
sys.stdout.flush()
```

---

## 2. 标准输入（Input）

### 2.1 `input()` 函数（最常用）

#### 基本用法

```python
# 基本输入（返回字符串）
name = input("请输入你的名字: ")

# 不带提示符
data = input()
```

#### 类型转换

```python
# 输入整数
age = int(input("请输入年龄:  "))

# 输入浮点数
score = float(input("请输入分数:  "))

# 输入多个值（空格分隔）
a, b = input("输入两个数:  ").split()

# 输入多个整数
x, y = map(int, input("输入两个整数: ").split())
```

### 2.2 `sys.stdin` 方法

```python
import sys

# 读取所有输入
data = sys. stdin.read()

# 读取一行
line = sys. stdin.readline()

# 读取所有行（返回列表）
lines = sys.stdin.readlines()

# 逐行迭代
for line in sys.stdin:
    print(line.strip())
```

---

## 3. 标准错误输出（Error Output）

```python
import sys

# 方法1: 使用 file 参数
print("Error message!", file=sys. stderr)

# 方法2: 使用 sys.stderr. write()
sys.stderr.write("Error occurred!\n")
```

---

## 4. 常见输入场景

### 4.1 读取多行输入

#### 已知行数

```python
n = int(input())
lines = [input() for _ in range(n)]
```

#### 读取到 EOF（文件结束）

```python
import sys

# 方法1: readlines()
lines = sys.stdin.readlines()

# 方法2: 使用 try-except
lines = []
try: 
    while True:
        line = input()
        lines.append(line)
except EOFError:
    pass
```

### 4.2 读取多个整数

#### 单行多个整数

```python
# 读取一行整数到列表
nums = list(map(int, input().split()))

# 示例输入:  1 2 3 4 5
# nums = [1, 2, 3, 4, 5]
```

#### 读取固定个数的整数

```python
# 读取两个整数
a, b = map(int, input().split())

# 读取 n 个整数
n = int(input())
nums = list(map(int, input().split()))
```

### 4.3 读取矩阵

```python
# 读取 n×m 矩阵
n, m = map(int, input().split())
matrix = []
for _ in range(n):
    row = list(map(int, input().split()))
    matrix.append(row)

# 简化写法
matrix = [list(map(int, input().split())) for _ in range(n)]
```

### 4.4 读取字符串列表

```python
# 按空格分割
words = input().split()

# 按指定字符分割
data = input().split(',')

# 读取多行字符串
n = int(input())
strings = [input() for _ in range(n)]
```

---

## 5. 文件重定向

```python
import sys

# 保存原始的标准输入输出
original_stdin = sys.stdin
original_stdout = sys.stdout

# 重定向标准输入（从文件读取）
sys. stdin = open('input.txt', 'r')

# 重定向标准输出（写入文件）
sys.stdout = open('output.txt', 'w')

# 你的代码
data = input()
print(data)

# 恢复标准输入输出
sys. stdin = original_stdin
sys. stdout = original_stdout

# 或者使用
sys.stdin = sys.__stdin__
sys. stdout = sys.__stdout__
```

---

## 6. 进阶技巧

### 6.1 输出到字符串

```python
from io import StringIO

# 创建字符串输出流
output = StringIO()
print("Hello", file=output)
print("World", file=output)

# 获取内容
content = output.getvalue()
print(content)  # Hello\nWorld\n
```

### 6.2 快速输入输出（竞赛编程）

```python
import sys

# 快速读取
input = sys.stdin.readline

# 快速输出
print = sys.stdout.write

# 使用示例
n = int(input())
for i in range(n):
    a, b = map(int, input().split())
    print(str(a + b) + '\n')
```

### 6.3 格式化表格输出

```python
# 使用 f-string 格式化表格
header = f"{'Name':<10} {'Age': >5} {'Score':>8}"
print(header)
print("-" * 25)
print(f"{'Alice':<10} {25:>5} {95.5:>8.2f}")
print(f"{'Bob':<10} {30:>5} {87.3:>8.2f}")
```

**输出:**

```
Name          Age    Score
-------------------------
Alice          25    95.50
Bob            30    87.30
```

---

## 7. 常用总结表

| 功能 | 方法 | 示例 |
|------|------|------|
| 基本输出 | `print()` | `print("Hello")` |
| 基本输入 | `input()` | `name = input()` |
| 输入整数 | `int(input())` | `n = int(input())` |
| 输入多个整数 | `map(int, input().split())` | `a, b = map(int, input().split())` |
| 读取多行 | 列表推导式 | `[input() for _ in range(n)]` |
| 格式化输出 | f-string | `print(f"{name}:  {age}")` |
| 错误输出 | `file=sys.stderr` | `print("Error", file=sys.stderr)` |
| 读取所有输入 | `sys.stdin.read()` | `data = sys.stdin.read()` |

---

## 8. 实战示例

### 示例1: 计算两数之和

```python
# 输入: 3 5
a, b = map(int, input().split())
print(f"{a} + {b} = {a + b}")
# 输出: 3 + 5 = 8
```

### 示例2: 处理多组测试数据

```python
t = int(input())  # 测试组数
for _ in range(t):
    n = int(input())
    nums = list(map(int, input().split()))
    print(sum(nums))
```

### 示例3: 读取矩阵并转置

```python
n, m = map(int, input().split())
matrix = [list(map(int, input().split())) for _ in range(n)]

# 转置
transposed = [[matrix[j][i] for j in range(n)] for i in range(m)]

# 输出转置后的矩阵
for row in transposed: 
    print(' '.join(map(str, row)))
```

### 示例4: 读取到文件结束

```python
import sys

# 方法1: 逐行处理
for line in sys.stdin:
    print(line.strip().upper())

# 方法2: 使用 EOFError
try:
    while True:
        data = input()
        print(data)
except EOFError:
    pass
```

---

## 9. 常见格式化符号

### f-string 格式化

| 格式 | 说明 | 示例 | 输出 |
|------|------|------|------|
| `{value}` | 基本格式 | `f"{10}"` | `10` |
| `{value:5}` | 指定宽度 | `f"{10:5}"` | `   10` |
| `{value:05}` | 用0填充 | `f"{10:05}"` | `00010` |
| `{value:<5}` | 左对齐 | `f"{10:<5}"` | `10   ` |
| `{value:>5}` | 右对齐 | `f"{10:>5}"` | `   10` |
| `{value:^5}` | 居中对齐 | `f"{10:^5}"` | ` 10  ` |
| `{value:. 2f}` | 保留2位小数 | `f"{3.1415:.2f}"` | `3.14` |
| `{value:. 2%}` | 百分比 | `f"{0.25:. 2%}"` | `25.00%` |
| `{value:,}` | 千分位分隔 | `f"{1000000:,}"` | `1,000,000` |

---

## 10. 性能优化建议

### 大量数据输入输出时

```python
import sys

# 使用 sys.stdin. readline 替代 input()
input = sys.stdin.readline

# 批量输出使用列表
output = []
for i in range(n):
    output.append(str(result[i]))
print('\n'.join(output))

# 或者直接使用 sys.stdout.write
sys. stdout.write('\n'.join(map(str, result)) + '\n')
```

---

## 11. 注意事项

1. **`input()` 返回的是字符串**，需要类型转换
2. **`split()` 返回字符串列表**，需要配合 `map()` 转换类型
3. **`sys.stdin. readline()` 会保留换行符**，需要使用 `.strip()` 去除
4. **竞赛编程中使用 `sys.stdin.readline` 更快**
5. **格式化输出推荐使用 f-string**（Python 3.6+）
6. **大量输出时建议批量处理**，减少 I/O 次数

---

## 12. 快速参考卡片

### 输入

```python
# 单个值
s = input()                           # 字符串
n = int(input())                      # 整数
f = float(input())                    # 浮点数

# 多个值
a, b = input().split()                # 两个字符串
a, b = map(int, input().split())      # 两个整数
lst = list(map(int, input().split())) # 整数列表

# 多行
lines = [input() for _ in range(n)]   # n 行字符串
matrix = [list(map(int, input().split())) for _ in range(n)]  # n 行整数
```

### 输出

```python
# 基本输出
print(value)                          # 自动换行
print(value, end='')                  # 不换行
print(a, b, c, sep=', ')              # 自定义分隔符

# 格式化输出
print(f"{name}:  {age}")               # f-string
print("{}:  {}".format(name, age))     # format()
print("%s: %d" % (name, age))         # % 格式化

# 格式控制
print(f"{value:>10}")                 # 右对齐，宽度10
print(f"{value:. 2f}")                 # 保留2位小数
```

---
