# IPv4地址分类
| 类别 | 地址范围               | 用途           | 主机数/网络数          | 场景举例               |
|------|------------------------|----------------|------------------------|------------------------|
| A    | 1.0.0.0–126.255.255.255| 大型网络       | 主机多，网络少         | 国家级机构、巨型企业   |
| B    | 128.0.0.0–191.255.255.255| 中型网络    | 主机中，网络中         | 高校、大型公司         |
| C    | 192.0.0.0–223.255.255.255| 小型网络    | 主机少，网络多         | 小公司、家庭           |
| D    | 224.0.0.0–239.255.255.255| 组播         | —                      | 多播服务、IPTV         |
| E    | 240.0.0.0–255.255.255.255| 保留/实验    | —                      | 实验、预留             |

# IP (网络层) 与 MAC（数据链路层）的区别
MAC 用于 直连的两个设备 通信，比如主机与 路由器，IP用于无法直连的两个设备通信，比如常见的 C/S。

# IPv4
32 位 的二进制数字，8位为一组，分为4组，每组 . 分隔。

2^32 约等于 43亿。  
所以IPv4 最大支持 43亿 台设备 连入互联网。  

由此，有了私有IP，一个公网IP下可以挂载多个 私有IP  

公网IP 由 ICANN 组织管理

# IPv6
128位，每16位一组，每组 : 分隔。

# IP协议 相关技术

## ARP
主机的路由表查找到 下一跳 的IP 后，由ARP 查找下一跳 的 MAC 地址
## DHCP
当设备（电脑、手机等）接入一个网络时，会自动向网络中的 DHCP 服务器发送请求。DHCP 服务器会自动分配一个可用的 IP 地址、子网掩码、网关、DNS 等信息给设备。这样，设备就能自动上网，无需手动配置网络参数。
## NAT
用于在不同网络之间转换 IP 地址，实现私有网络和公有网络之间的数据通信。  

**作用**：
- 节省 公网 IP 
- 隐藏内部网络
- 内外网互通  

类型：
![alt text](image.png)

## ICMP
用于网络设备之间传递控制消息，检测和报告网络通信中的错误或状态信息，比如常见的 ping 命令就是用 ICMP 检查网络连通性。

## IGMP
- 组播是一种“一对多”网络通信方式，允许一台主机向一组有共同需求的主机同时发送数据。  
- 发送方把数据发到一个组播IP地址（如224.1.1.1，属于D类），所有“加入了这个组”的主机都能收到。  
- 组播只会送到主动加入该组播组的设备，不会打扰其他主机，比广播更节省网络资源。  
- 常见于：在线视频直播、IPTV、局域网发现等场景。  
- 组播消息通常用UDP协议发送，发送方和接收方都要用特定方式编程（比如socket加入组播组）。